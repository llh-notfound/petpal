import{r as e,o as a,p as l,k as s,n as t,c,w as o,i as n,a as u,b as i,d,e as m,S as r,f,F as p,g as v,y as _,t as g,T as k,v as b,j as y,I as h,A as C,J as x,s as T,h as V}from"./index-BC-mzwrj.js";import{_ as j}from"./_plugin-vue_export-helper.BCo6x5W8.js";const w=j({__name:"feedback",setup(j){const w=[{name:"功能异常",value:"bug",icon:"icon-bug"},{name:"服务态度",value:"service",icon:"icon-service"},{name:"商品问题",value:"product",icon:"icon-product"},{name:"物流问题",value:"logistics",icon:"icon-logistics"},{name:"支付问题",value:"payment",icon:"icon-payment"},{name:"其他问题",value:"other",icon:"icon-other"}],F=e(""),I=e(""),U=e([]),z=e(""),A=()=>{x({count:3-U.value.length,sizeType:["compressed"],sourceType:["album","camera"],success:e=>{U.value=[...U.value,...e.tempFilePaths]}})},J=()=>{F.value?I.value.trim()?(T({title:"提交中..."}),setTimeout((()=>{V(),F.value="",I.value="",U.value=[],z.value="",s({title:"提交成功",icon:"success"}),setTimeout((()=>{C()}),1500)}),1500)):s({title:"请描述您的问题或建议",icon:"none"}):s({title:"请选择问题类型",icon:"none"})},P=()=>{C()};return a((()=>{l("token")||(s({title:"请先登录",icon:"none"}),setTimeout((()=>{t({url:"/pages/login/login"})}),1500))})),(e,a)=>{const l=d,s=n,t=k,C=y,x=h,T=r;return u(),c(s,{class:"feedback-container"},{default:o((()=>[i(s,{class:"nav-bar"},{default:o((()=>[i(l,{class:"nav-title"},{default:o((()=>[m("投诉建议")])),_:1}),i(l,{class:"nav-back iconfont icon-back",onClick:P})])),_:1}),i(T,{"scroll-y":"",class:"form-area"},{default:o((()=>[i(s,{class:"form-section"},{default:o((()=>[i(s,{class:"section-title"},{default:o((()=>[m("问题类型")])),_:1}),i(s,{class:"type-list"},{default:o((()=>[(u(),f(p,null,v(w,((e,a)=>i(s,{key:a,class:_(["type-item",{"type-active":F.value===e.value}]),onClick:a=>(e=>{F.value=e})(e.value)},{default:o((()=>[i(l,{class:_(["type-icon",e.icon])},null,8,["class"]),i(l,{class:"type-name"},{default:o((()=>[m(g(e.name),1)])),_:2},1024)])),_:2},1032,["class","onClick"]))),64))])),_:1})])),_:1}),i(s,{class:"form-section"},{default:o((()=>[i(s,{class:"section-title"},{default:o((()=>[m("问题描述")])),_:1}),i(t,{class:"feedback-textarea",modelValue:I.value,"onUpdate:modelValue":a[0]||(a[0]=e=>I.value=e),placeholder:"请详细描述您遇到的问题或建议，以便我们更好地为您服务",maxlength:"500"},null,8,["modelValue"]),i(s,{class:"word-count"},{default:o((()=>[m(g(I.value.length)+"/500",1)])),_:1})])),_:1}),i(s,{class:"form-section"},{default:o((()=>[i(s,{class:"section-title"},{default:o((()=>[m("上传截图（选填）")])),_:1}),i(s,{class:"upload-list"},{default:o((()=>[(u(!0),f(p,null,v(U.value,((e,a)=>(u(),c(s,{key:a,class:"image-item"},{default:o((()=>[i(C,{class:"preview-image",src:e,mode:"aspectFill"},null,8,["src"]),i(l,{class:"delete-icon iconfont icon-close",onClick:e=>(e=>{U.value.splice(e,1)})(a)},null,8,["onClick"])])),_:2},1024)))),128)),U.value.length<3?(u(),c(s,{key:0,class:"upload-btn",onClick:A},{default:o((()=>[i(l,{class:"iconfont icon-camera"}),i(l,{class:"upload-text"},{default:o((()=>[m("上传图片")])),_:1})])),_:1})):b("",!0)])),_:1}),i(l,{class:"upload-tip"},{default:o((()=>[m("最多上传3张图片，支持jpg、png格式")])),_:1})])),_:1}),i(s,{class:"form-section"},{default:o((()=>[i(s,{class:"section-title"},{default:o((()=>[m("联系方式（选填）")])),_:1}),i(x,{class:"contact-input",modelValue:z.value,"onUpdate:modelValue":a[1]||(a[1]=e=>z.value=e),placeholder:"请留下您的手机号或邮箱，方便我们联系您"},null,8,["modelValue"])])),_:1})])),_:1}),i(s,{class:"submit-bar"},{default:o((()=>[i(s,{class:"submit-btn",onClick:J},{default:o((()=>[m("提交反馈")])),_:1})])),_:1})])),_:1})}}},[["__scopeId","data-v-9e84f64c"]]);export{w as default};
